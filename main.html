
<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="dist/leaflet.css" />
		<script src="dist/leaflet.js"></script>
		<script language="javascript" type="text/javascript" src="flot/jquery.min.js"></script>
		<script language="javascript" type="text/javascript" src="flot/jquery.flot.min.js"></script>
	</head>
	<body>
		<div id="map" style="width: 100%; height: 500px"></div>
            <h4><a href="#" onclick="printer.text('Message from QWebView')">QObject Test</a></h4>
		<div style="width: 100%; height: 300px" id="plot"></div>
		<script>
			var map = L.map('map').setView([47.15, 15.37],10);
			// add an OpenStreetMap tile layer
			L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
				attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
			}).addTo(map);

            var polys = [];
            lG = L.layerGroup().addTo(map);

			var polyline = L.polyline([
				[47.15, 15.17],
				[47.26,15.30]
				], {color:'red'}).addTo(map);
            lG.addLayer(polyline);

			
			map.fitBounds(polyline.getBounds());
            var marker = L.marker(polyline.getBounds().getNorthEast()).addTo(map);

			function setLine(polD,col) {
                var p = L.polyline(polD,{color:col});//.addTo(map);
                map.addLayer(p);
                lG.addLayer(p);
                map.fitBounds(p.getBounds());
			}
            function moveMarker(ltlg) {
                marker.setLatLng(ltlg);
            }
			function showPlot(data) {
				$.plot($("#plot"), data);//, { yaxis: { max: 1 } });
			}
            function clearMap() {
                lG.clearLayers();
                //for (p in polys) {
                //    map.removeLayer(polys.pop());
                //}
            }

		</script>
	</body>
</html>

